<!DOCTYPE html>
<html>
<head>
	<title></title>
	<script type="text/javascript" src="Action.js"></script>
	<script type="text/javascript" src="Hand.js"></script>
	<script type="text/javascript" src="Watch.js"></script>
	<script type="text/javascript" src="HandController.js"></script>
	<script type="text/javascript" src="HandLockController.js"></script>
	<script type="text/javascript" src="Task.js"></script>
	<script type="text/javascript" src="TaskController.js"></script>
</head>
<body>
	<canvas id="canvas" width="300" height="300"></canvas>
	<button onclick="addTask1();">Task1</button>
	<script type="text/javascript">
		var watch = new Watch({
			canvas: document.getElementById('canvas'),
		}).addHands([
				new ImageHand({
					name: 'hour',
					x: 150,
					y: 150,
					length: 89,
					degree: 0,
					width: 20,
					image:{
						src: 'img/ch1.png',
						handCenterX: 43,
						handCenterY: 45,
						width: 396,
						height: 89,
					}
				}),
				new ImageHand({
					name: 'min',
					x: 150,
					y: 150,
					length: 120,
					degree: 0,
					width: 20,
					image:{
						src: 'img/ch2.png',
						handCenterX: 42,
						handCenterY: 49,
						width: 578,
						height: 96,
					},
				}),
				new ImageHand({
					name: 'sec',
					x: 150,
					y: 150,
					length: 114,
					degree: 0,
					width: 20,
					image:{
						src: 'img/ch3.png',
						handCenterX: 43,
						handCenterY: 44,
						width: 485,
						height: 85,
					},
				}),
			]);

		watch.start();

		function addTask1(){
			watch.addTask(new Task({
				requiredHands: ['min'],
				onStart: function(hcs, callback){
					console.log(hcs)
					for(let i=0; i<9;i++){
						hcs.min.pushAction(new Action(0,Math.floor(Math.random()*360),10,5))
					}
					hcs.min.pushAction(new Action(0,Math.floor(Math.random()*360),10,5).setCallback(callback))					
				}
			}))
		}
	</script>
</body>
</html>